{"version":3,"sources":["./src/app/pages/change-email/change-email.module.ts","./src/app/pages/change-email/change-email.page.ts","./src/app/pages/change-email/change-email.page.html"],"names":[],"mappings":"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","file":"pages-change-email-change-email-module.js","sourcesContent":["/* --- PAGES --- */\nimport { ChangeEmailPage } from './change-email.page';\n\n/* --- MODULES --- */\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatContentModule } from 'src/app/libs/mat-content/mat-content.module';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatMenuButtonModule } from 'src/app/libs/mat-menu-button/mat-menu-button.module';\nimport { Routes, RouterModule } from '@angular/router';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: ChangeEmailPage\n    }\n];\n\n@NgModule({\n    imports: [\n        FormsModule,\n        CommonModule,\n        MatIconModule,\n        MatInputModule,\n        MatSelectModule,\n        MatButtonModule,\n        MatToolbarModule,\n        MatContentModule,\n        MatFormFieldModule,\n        MatMenuButtonModule,\n        ReactiveFormsModule,\n        MatProgressBarModule,\n        RouterModule.forChild(routes)\n    ],\n    declarations: [\n        ChangeEmailPage\n    ]\n})\n\nexport class ChangeEmailPageModule { }\n","import { Router } from '@angular/router';\nimport { ToastService } from 'src/app/services/toast/toast.service';\nimport { AdminService } from 'src/app/services/admin/admin.service';\nimport { FormErrorService } from 'src/app/services/form-error/form-error.service';\nimport { OnInit, Component, OnDestroy } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n    selector: 'change-email-page',\n    styleUrls: ['./change-email.page.scss'],\n    templateUrl: './change-email.page.html'\n})\n\nexport class ChangeEmailPage implements OnInit, OnDestroy {\n\n    constructor(private toast: ToastService, private router: Router, private service: AdminService, private formerror: FormErrorService) { }\n\n    public form: FormGroup = new FormGroup({\n        email: new FormControl(null, [Validators.required, Validators.email])\n    });\n    public errors: any = {\n        email: ''\n    };\n    public loading: boolean = false;\n    private observers: any = {};\n\n    public async submit() {\n        this.loading = true;\n\n        const response = await this.service.changeEmail(this.form.value);\n\n        if (response.ok) {\n            this.router.navigate(['/devices'], {\n                replaceUrl: true\n            });\n            this.toast.success('Email was changed!');\n        } else {\n            this.toast.error(response.result.message);\n        };\n\n        this.loading = false;\n    }\n\n    ngOnInit(): void {\n        this.observers.form = this.form.valueChanges.subscribe(() => {\n            this.errors = this.formerror.validateForm(this.form, this.errors, true);\n        });\n    }\n\n    ngOnDestroy(): void {\n        this.observers.form.unsubscribe();\n    }\n\n}\n","<mat-toolbar>\n    <mat-menu-button></mat-menu-button>\n    \n    <mat-label class=\"spacer\">\n        Change Email\n    </mat-label>\n</mat-toolbar>\n\n<mat-progress-bar mode=\"indeterminate\" *ngIf=\"loading\"></mat-progress-bar>\n\n<mat-content>\n    <form [formGroup]=\"form\" (ngSubmit)=\"!loading && !form.invalid && submit()\">\n        <mat-form-field appearance=\"outline\">\n            <mat-label>\n                Email\n            </mat-label>\n\n            <input matInput type=\"email\" name=\"email\" placeholder=\"email\" formControlName=\"email\" required>\n\n            <mat-error *ngIf=\"errors.email\">\n                {{ errors.email }}\n            </mat-error>\n        </mat-form-field>\n        \n        <button mat-flat-button type=\"submit\" color=\"primary\">\n            submit\n        </button>\n    </form>\n</mat-content>"],"sourceRoot":"webpack:///"}
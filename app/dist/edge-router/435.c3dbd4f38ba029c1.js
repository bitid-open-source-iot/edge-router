"use strict";(self.webpackChunkedge_router=self.webpackChunkedge_router||[]).push([[435],{802:(W,c,r)=>{r.r(c),r.d(c,{SettingsComponentModule:()=>L});var m=r(5861),s=r(3075),t=r(5e3),d=r(2340),T=r(5146);let A=(()=>{class n{constructor(e){this.api=e,this.data=[]}list(e){var o=this;return(0,m.Z)(function*(){return yield o.api.post(d.N.server,"/edge-router/settings/list",e)})()}update(e){var o=this;return(0,m.Z)(function*(){return yield o.api.post(d.N.server,"/edge-router/settings/update",e)})()}command(e){var o=this;return(0,m.Z)(function*(){return yield o.api.post(d.N.server,"/edge-router/settings/command",e)})()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(T.s))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var C=r(649),I=r(2109),g=r(4594),S=r(7756),i=r(7322),f=r(9808),p=r(5899),x=r(8863),Z=r(4107),b=r(508),v=r(7531),h=r(7423),N=r(4080);function U(n,a){1&n&&t._UZ(0,"mat-progress-bar",17)}function y(n,a){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.errors.apn," ")}}function J(n,a){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.errors.barcode," ")}}function Y(n,a){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.errors.deviceId," ")}}function q(n,a){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.errors.txtime," ")}}let M=(()=>{class n{constructor(e,o,l){this.settingsService=e,this.toast=o,this.formerror=l,this.form=new s.cw({barcode:new s.NI("",[s.kI.required]),deviceId:new s.NI("",[s.kI.required]),apn:new s.NI(null),txtime:new s.NI(null)}),this.formCommand=new s.cw({command:new s.NI(null),password:new s.NI(null)}),this.errors={barcode:"",deviceId:"",apn:"",txtime:""},this.loading=!1,this.observers={}}ngOnInit(){this.observers.form=this.form.valueChanges.subscribe(e=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)}),this.list()}list(){var e=this;return(0,m.Z)(function*(){const o=yield e.settingsService.list({});o.ok?(e.form.controls.barcode.setValue(o.result[0].barcode),e.form.controls.deviceId.setValue(o.result[0].deviceId),e.form.controls.apn.setValue(o.result[0].apn),e.form.controls.txtime.setValue(o.result[0].txtime)):e.toast.error(o.result.message),e.loading=!1})()}submit(){var e=this;return(0,m.Z)(function*(){e.loading=!0;const o=yield e.settingsService.update({barcode:e.form.value.barcode,deviceId:e.form.value.deviceId,apn:e.form.value.apn,txtime:e.form.value.txtime});o.ok?e.toast.success("Updated"):e.toast.error(o.result.message),e.loading=!1,e.loading=!1})()}submit_command(){var e=this;return(0,m.Z)(function*(){e.loading=!0;const o=yield e.settingsService.command({command:e.formCommand.value.command,password:e.formCommand.value.password});o.ok?(console.log(o),e.toast.success("Updated")):e.toast.error(o.result.message),e.loading=!1,e.loading=!1})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(A),t.Y36(C.k),t.Y36(I.J))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-settings"]],decls:56,vars:7,consts:[[1,"spacer"],["mode","indeterminate",4,"ngIf"],[3,"formGroup","ngSubmit"],["appearance","outline"],["placeholder","apn","formControlName","apn","required",""],["value","internet"],["value","tech5"],[4,"ngIf"],["matInput","","type","text","minlength","1","maxlength","24","placeholder","Barcode","formControlName","barcode","required",""],["matInput","","type","text","minlength","24","maxlength","24","placeholder","Device Id","formControlName","deviceId","required",""],["matInput","","type","number","placeholder","Tx Time","formControlName","txtime","required",""],["type","submit",2,"display","none"],["button",""],["matInput","","type","text","minlength","1","maxlength","24000","placeholder","Command","formControlName","command"],["matInput","","type","password","minlength","1","maxlength","24","placeholder","Password","formControlName","password"],["button_command",""],["type","button","color","primary","mat-flat-button","",3,"click"],["mode","indeterminate"]],template:function(e,o){if(1&e){const l=t.EpF();t.TgZ(0,"mat-toolbar"),t._UZ(1,"mat-back-button"),t.TgZ(2,"mat-label",0),t._uU(3," Devices Editor "),t.qZA(),t.qZA(),t.YNc(4,U,1,0,"mat-progress-bar",1),t.TgZ(5,"mat-content"),t.TgZ(6,"form",2),t.NdJ("ngSubmit",function(){return!o.loading&&!o.form.invalid&&o.submit()}),t.TgZ(7,"section"),t.TgZ(8,"mat-form-field",3),t.TgZ(9,"mat-label"),t._uU(10," APN "),t.qZA(),t.TgZ(11,"mat-select",4),t.TgZ(12,"mat-option",5),t._uU(13," Internet "),t.qZA(),t.TgZ(14,"mat-option",6),t._uU(15," Tech5 "),t.qZA(),t.qZA(),t.YNc(16,y,2,1,"mat-error",7),t.qZA(),t.qZA(),t.TgZ(17,"section"),t.TgZ(18,"mat-form-field",3),t.TgZ(19,"mat-label"),t._uU(20," Barcode "),t.qZA(),t._UZ(21,"input",8),t.YNc(22,J,2,1,"mat-error",7),t.qZA(),t.qZA(),t.TgZ(23,"section"),t.TgZ(24,"mat-form-field",3),t.TgZ(25,"mat-label"),t._uU(26," Device Id "),t.qZA(),t._UZ(27,"input",9),t.YNc(28,Y,2,1,"mat-error",7),t.qZA(),t.qZA(),t.TgZ(29,"section"),t.TgZ(30,"mat-form-field",3),t.TgZ(31,"mat-label"),t._uU(32," Tx Time "),t.qZA(),t._UZ(33,"input",10),t.YNc(34,q,2,1,"mat-error",7),t.qZA(),t.qZA(),t._UZ(35,"button",11,12),t.qZA(),t.TgZ(37,"section"),t.TgZ(38,"form",2),t.NdJ("ngSubmit",function(){return!o.loading&&o.submit_command()}),t.TgZ(39,"section"),t.TgZ(40,"mat-form-field",3),t.TgZ(41,"mat-label"),t._uU(42," Command "),t.qZA(),t._UZ(43,"input",13),t.qZA(),t.qZA(),t.TgZ(44,"section"),t.TgZ(45,"mat-form-field",3),t.TgZ(46,"mat-label"),t._uU(47," Password "),t.qZA(),t._UZ(48,"input",14),t.qZA(),t.qZA(),t._UZ(49,"button",11,15),t.qZA(),t.TgZ(51,"button",16),t.NdJ("click",function(){return t.CHM(l),t.MAs(50).click()}),t._uU(52," command "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(53,"mat-footer"),t.TgZ(54,"button",16),t.NdJ("click",function(){return t.CHM(l),t.MAs(36).click()}),t._uU(55," submit "),t.qZA(),t.qZA()}2&e&&(t.xp6(4),t.Q6J("ngIf",o.loading),t.xp6(2),t.Q6J("formGroup",o.form),t.xp6(10),t.Q6J("ngIf",o.errors.apn),t.xp6(6),t.Q6J("ngIf",o.errors.barcode),t.xp6(6),t.Q6J("ngIf",o.errors.deviceId),t.xp6(6),t.Q6J("ngIf",o.errors.txtime),t.xp6(4),t.Q6J("formGroup",o.formCommand))},directives:[g.Ye,S.x,i.hX,f.O5,p.pW,x.s,s._Y,s.JL,s.sg,i.KE,Z.gD,s.JJ,s.u,s.Q7,b.ey,i.TO,v.Nt,s.Fj,s.wO,s.nD,s.wV,h.lW,N.A],styles:[""]}),n})();var Q=r(4847),F=r(1083),j=r(3874),D=r(4999),G=r(7238),V=r(7375),X=r(2604),B=r(2217),O=r(4274),P=r(5896),z=r(5612);const E=[{path:"",component:M}];let L=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[s.u5,f.ez,Q.JX,j.Ps,D.p0,v.c,B.l,Z.LD,h.ot,V.M,G.AV,X.o,g.g0,O.X,i.lN,P.n,z.G,s.UX,p.Cv,F.Bz.forChild(E)]]}),n})()}}]);
"use strict";(self.webpackChunkedge_router=self.webpackChunkedge_router||[]).push([[249],{8249:(M,m,n)=>{n.r(m),n.d(m,{SignInPageModule:()=>J});var p=n(5861),o=n(3075),t=n(5e3),h=n(649),l=n(1083),v=n(1693),I=n(2109),g=n(9808),u=n(5899),Z=n(8863),i=n(7322),f=n(7531),d=n(7423);function P(e,a){1&e&&t._UZ(0,"mat-progress-bar",8)}function T(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const r=t.oxw();t.xp6(1),t.hij(" ",r.errors.email," ")}}function S(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const r=t.oxw();t.xp6(1),t.hij(" ",r.errors.password," ")}}let C=(()=>{class e{constructor(r,s,c,N){this.toast=r,this.router=s,this.service=c,this.formerror=N,this.form=new o.cw({email:new o.NI(null,[o.kI.required,o.kI.email]),password:new o.NI(null,[o.kI.required])}),this.errors={email:"",password:""},this.loading=!1,this.observers={}}submit(){var r=this;return(0,p.Z)(function*(){r.loading=!0;const s=yield r.service.authenticate(r.form.value);s.ok?s.result.authenticated?(r.router.navigate(["/devices"],{replaceUrl:!0}),r.toast.success("Sign in successful!")):r.toast.error("Invalid Credentials!"):r.toast.error(s.result.message),r.loading=!1})()}ngOnInit(){this.observers.form=this.form.valueChanges.subscribe(()=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)})}ngOnDestroy(){this.observers.form.unsubscribe()}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(h.k),t.Y36(l.F0),t.Y36(v.l),t.Y36(I.J))},e.\u0275cmp=t.Xpm({type:e,selectors:[["sign-in-page"]],decls:18,vars:4,consts:[["mode","indeterminate",4,"ngIf"],[3,"formGroup","ngSubmit"],["src","./assets/icons/icon-512x512.png","alt","biTid","width","100","height","100","draggable","false"],["appearance","outline"],["matInput","","type","email","name","email","placeholder","email","formControlName","email","required",""],[4,"ngIf"],["matInput","","type","password","name","password","placeholder","password","formControlName","password","required",""],["mat-flat-button","","type","submit","color","primary"],["mode","indeterminate"]],template:function(r,s){1&r&&(t.YNc(0,P,1,0,"mat-progress-bar",0),t.TgZ(1,"mat-content"),t.TgZ(2,"form",1),t.NdJ("ngSubmit",function(){return!s.loading&&!s.form.invalid&&s.submit()}),t._UZ(3,"img",2),t.TgZ(4,"h1"),t._uU(5," Edge Router "),t.qZA(),t.TgZ(6,"mat-form-field",3),t.TgZ(7,"mat-label"),t._uU(8," Email "),t.qZA(),t._UZ(9,"input",4),t.YNc(10,T,2,1,"mat-error",5),t.qZA(),t.TgZ(11,"mat-form-field",3),t.TgZ(12,"mat-label"),t._uU(13," Password "),t.qZA(),t._UZ(14,"input",6),t.YNc(15,S,2,1,"mat-error",5),t.qZA(),t.TgZ(16,"button",7),t._uU(17," sign in "),t.qZA(),t.qZA(),t.qZA()),2&r&&(t.Q6J("ngIf",s.loading),t.xp6(2),t.Q6J("formGroup",s.form),t.xp6(8),t.Q6J("ngIf",s.errors.email),t.xp6(5),t.Q6J("ngIf",s.errors.password))},directives:[g.O5,u.pW,Z.s,o._Y,o.JL,o.sg,i.KE,i.hX,f.Nt,o.Fj,o.JJ,o.u,o.Q7,i.TO,d.lW],styles:["form[_ngcontent-%COMP%]{width:100%;margin:16px auto;max-width:400px}form[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:16px auto}form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px!important}"]}),e})();var x=n(3874),y=n(4107),U=n(4594),A=n(4274);const b=[{path:"",component:C}];let J=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[o.u5,g.ez,x.Ps,f.c,y.LD,d.ot,U.g0,A.X,i.lN,o.UX,u.Cv,l.Bz.forChild(b)]]}),e})()}}]);
(self.webpackChunkedge_router=self.webpackChunkedge_router||[]).push([[261],{261:(q,O,m)=>{"use strict";m.r(O),m.d(O,{MappingPageModule:()=>wt});var M=m(5861),x=m(4999),_=m(3075),h=m(7643);class T{constructor(r){this.mapId=(0,h.Z)(),this.source={mask:0,inputId:"",deviceId:""},this.destination={mask:0,inputId:"",deviceId:""},void 0!==r&&null!=r&&(void 0!==r.mapId&&null!=r.mapId&&(this.mapId=r.mapId),void 0!==r.source&&null!=r.source&&(void 0!==r.source.mask&&null!=r.source.mask&&(this.source.mask=r.source.mask),void 0!==r.source.inputId&&null!=r.source.inputId&&(this.source.inputId=r.source.inputId),void 0!==r.source.deviceId&&null!=r.source.deviceId&&(this.source.deviceId=r.source.deviceId)),void 0!==r.destination&&null!=r.destination&&(void 0!==r.destination.mask&&null!=r.destination.mask&&(this.destination.mask=r.destination.mask),void 0!==r.destination.inputId&&null!=r.destination.inputId&&(this.destination.inputId=r.destination.inputId),void 0!==r.destination.deviceId&&null!=r.destination.deviceId&&(this.destination.deviceId=r.destination.deviceId)))}}var D=m(9640),t=m(5e3),C=m(649),F=m(5204),y=m(347),N=m(4594),J=m(5277),g=m(7322),f=m(9808),I=m(5899),Y=m(8863),A=m(4107),w=m(508),c=m(7531),i=m(3874),a=m(7423),l=m(8624);let v=(()=>{class n{transform(e,o,s){const u=Object.keys(o).filter(d=>void 0!==o[d]&&null!=o[d]);return u.length>0?e.filter(d=>{let Z=[];return u.map(p=>{l.has(d,p)&&("string"==typeof l.get(d,p)?"string"==typeof o[p]?Z.push(l.get(d,p).trim().toLowerCase().indexOf(o[p].trim().toLowerCase())>-1):Array.isArray(o[p])?Z.push(o[p].filter(Q=>l.get(d,p).trim().toLowerCase().indexOf(Q)>-1).length>0):"number"==typeof o[p]&&Z.push(l.get(d,p).trim().toLowerCase().indexOf(o[p])>-1):Array.isArray(l.get(d,p))?"string"==typeof o[p]?Z.push(l.get(d,p).includes(o[p].trim().toLowerCase())>-1):Array.isArray(o[p])?Z.push(o[p].filter(Q=>l.get(d,p).includes(Q)).length>0):"number"==typeof o[p]&&Z.push(l.get(d,p).includes(o[p])>-1):"number"==typeof l.get(d,p)?"string"==typeof o[p]?Z.push(l.get(d,p).toString().trim().toLowerCase().indexOf(o[p].trim().toLowerCase())>-1):Array.isArray(o[p])?Z.push(o[p].includes(l.get(d,p)).length>-1):"number"==typeof o[p]&&Z.push(l.get(d,p)==o[p]):"boolean"==typeof l.get(d,p)&&("boolean"==typeof o[p]?Z.push(l.get(d,p)==o[p]):Array.isArray(o[p])?Z.push(o[p].filter(Q=>l.get(d,p).indexOf(Q)>-1).length>0):"number"==typeof o[p]&&Z.push(l.get(d,p).indexOf(new Boolean(o[p]))>-1)))}),!Z.includes(!1)}):Array.isArray(s)?s:e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"filterBy",type:n,pure:!1}),n})();function P(n,r){1&n&&t._UZ(0,"mat-progress-bar",17)}function $(n,r){1&n&&(t.TgZ(0,"th",18),t._uU(1," Source Device "),t.qZA())}function S(n,r){if(1&n&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.deviceId),t.xp6(1),t.hij(" ",e.description," ")}}function b(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",19),t.TgZ(1,"mat-select",20),t.NdJ("ngModelChange",function(s){return t.CHM(e).$implicit.source.deviceId=s})("ngModelChange",function(){const u=t.CHM(e).$implicit;return t.oxw().update(u)}),t.YNc(2,S,2,2,"mat-option",21),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit,o=t.oxw();t.xp6(1),t.Q6J("ngModel",e.source.deviceId),t.xp6(1),t.Q6J("ngForOf",o.devices.data)}}function B(n,r){if(1&n&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.deviceId),t.xp6(1),t.hij(" ",e.description," ")}}function E(n,r){if(1&n&&(t.TgZ(0,"td",23),t.TgZ(1,"mat-form-field",24),t.TgZ(2,"mat-label"),t._uU(3," Source Device "),t.qZA(),t.TgZ(4,"mat-select",25),t.YNc(5,B,2,2,"mat-option",21),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.Q6J("formGroup",e.map),t.xp6(5),t.Q6J("ngForOf",e.devices.data)}}function H(n,r){1&n&&(t.TgZ(0,"th",18),t._uU(1," Source Input "),t.qZA())}function G(n,r){if(1&n&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.inputId),t.xp6(1),t.hij(" ",e.description," ")}}const U=function(n){return{deviceId:n}};function L(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",19),t.TgZ(1,"mat-select",26),t.NdJ("ngModelChange",function(s){return t.CHM(e).$implicit.source.inputId=s})("ngModelChange",function(){const u=t.CHM(e).$implicit;return t.oxw().update(u)}),t.YNc(2,G,2,2,"mat-option",21),t.ALo(3,"filterBy"),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit,o=t.oxw();t.xp6(1),t.Q6J("ngModel",e.source.inputId),t.xp6(1),t.Q6J("ngForOf",t.xi3(3,2,o.inputs,t.VKq(5,U,e.source.deviceId)))}}function R(n,r){if(1&n&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.inputId),t.xp6(1),t.hij(" ",e.description," ")}}function K(n,r){if(1&n&&(t.TgZ(0,"td",23),t.TgZ(1,"mat-form-field",24),t.TgZ(2,"mat-label"),t._uU(3," Source Input "),t.qZA(),t.TgZ(4,"mat-select",27),t.YNc(5,R,2,2,"mat-option",21),t.ALo(6,"filterBy"),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.Q6J("formGroup",e.map),t.xp6(5),t.Q6J("ngForOf",t.xi3(6,2,e.inputs,t.VKq(5,U,e.map.value.source.deviceId)))}}function X(n,r){1&n&&(t.TgZ(0,"th",18),t._uU(1," Source Mask "),t.qZA())}function V(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",19),t.TgZ(1,"input",28),t.NdJ("ngModelChange",function(s){return t.CHM(e).$implicit.source.mask=s})("ngModelChange",function(){const u=t.CHM(e).$implicit;return t.oxw().update(u)}),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngModel",e.source.mask)}}function W(n,r){if(1&n&&(t.TgZ(0,"td",23),t.TgZ(1,"mat-form-field",24),t.TgZ(2,"mat-label"),t._uU(3," Source Mask "),t.qZA(),t._UZ(4,"input",29),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.Q6J("formGroup",e.map)}}function z(n,r){1&n&&(t.TgZ(0,"th",18),t._UZ(1,"mat-icon",30),t.qZA())}function k(n,r){1&n&&(t.TgZ(0,"td",19),t._UZ(1,"mat-icon",30),t.qZA())}function j(n,r){if(1&n&&(t.TgZ(0,"td",23),t._UZ(1,"mat-icon",30),t.qZA()),2&n){const e=t.oxw();t.Q6J("formGroup",e.map)}}function tt(n,r){1&n&&(t.TgZ(0,"th",18),t._uU(1," Destination Device "),t.qZA())}function et(n,r){if(1&n&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.deviceId),t.xp6(1),t.hij(" ",e.description," ")}}function nt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",19),t.TgZ(1,"mat-select",20),t.NdJ("ngModelChange",function(s){return t.CHM(e).$implicit.destination.deviceId=s})("ngModelChange",function(){const u=t.CHM(e).$implicit;return t.oxw().update(u)}),t.YNc(2,et,2,2,"mat-option",21),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit,o=t.oxw();t.xp6(1),t.Q6J("ngModel",e.destination.deviceId),t.xp6(1),t.Q6J("ngForOf",o.devices.data)}}function it(n,r){if(1&n&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.deviceId),t.xp6(1),t.hij(" ",e.description," ")}}function ot(n,r){if(1&n&&(t.TgZ(0,"td",23),t.TgZ(1,"mat-form-field",31),t.TgZ(2,"mat-label"),t._uU(3," Destination Device "),t.qZA(),t.TgZ(4,"mat-select",25),t.YNc(5,it,2,2,"mat-option",21),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.Q6J("formGroup",e.map),t.xp6(5),t.Q6J("ngForOf",e.devices.data)}}function rt(n,r){1&n&&(t.TgZ(0,"th",18),t._uU(1," Destination Input "),t.qZA())}function at(n,r){if(1&n&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.inputId),t.xp6(1),t.hij(" ",e.description," ")}}function ct(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",19),t.TgZ(1,"mat-select",26),t.NdJ("ngModelChange",function(s){return t.CHM(e).$implicit.destination.inputId=s})("ngModelChange",function(){const u=t.CHM(e).$implicit;return t.oxw().update(u)}),t.YNc(2,at,2,2,"mat-option",21),t.ALo(3,"filterBy"),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit,o=t.oxw();t.xp6(1),t.Q6J("ngModel",e.destination.inputId),t.xp6(1),t.Q6J("ngForOf",t.xi3(3,2,o.inputs,t.VKq(5,U,e.destination.deviceId)))}}function lt(n,r){if(1&n&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.inputId),t.xp6(1),t.hij(" ",e.description," ")}}function dt(n,r){if(1&n&&(t.TgZ(0,"td",23),t.TgZ(1,"mat-form-field",31),t.TgZ(2,"mat-label"),t._uU(3," Destination Input "),t.qZA(),t.TgZ(4,"mat-select",27),t.YNc(5,lt,2,2,"mat-option",21),t.ALo(6,"filterBy"),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.Q6J("formGroup",e.map),t.xp6(5),t.Q6J("ngForOf",t.xi3(6,2,e.inputs,t.VKq(5,U,e.map.value.destination.deviceId)))}}function st(n,r){1&n&&(t.TgZ(0,"th",18),t._uU(1," Destination Mask "),t.qZA())}function ut(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",19),t.TgZ(1,"input",28),t.NdJ("ngModelChange",function(s){return t.CHM(e).$implicit.destination.mask=s})("ngModelChange",function(){const u=t.CHM(e).$implicit;return t.oxw().update(u)}),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngModel",e.destination.mask)}}function pt(n,r){if(1&n&&(t.TgZ(0,"td",23),t.TgZ(1,"mat-form-field",31),t.TgZ(2,"mat-label"),t._uU(3," Destination Mask "),t.qZA(),t._UZ(4,"input",29),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.Q6J("formGroup",e.map)}}function ft(n,r){1&n&&t._UZ(0,"th",18)}function mt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",19),t.TgZ(1,"button",32),t.NdJ("click",function(){const u=t.CHM(e).$implicit,d=t.oxw();return!d.loading&&d.delete(u)}),t._UZ(2,"mat-icon",33),t.qZA(),t.qZA()}}function gt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",23),t.TgZ(1,"button",34),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return!s.loading&&!s.map.invalid&&s.add()}),t._UZ(2,"mat-icon",35),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("formGroup",e.map)}}function _t(n,r){1&n&&t._UZ(0,"tr",36)}function xt(n,r){1&n&&t._UZ(0,"tr",37)}function vt(n,r){1&n&&t._UZ(0,"tr",38)}let Zt=(()=>{class n{constructor(e,o,s){this.toast=e,this.devices=o,this.service=s,this.map=new _.cw({source:new _.cw({mask:new _.NI(null,[_.kI.required]),inputId:new _.NI(null,[_.kI.required]),deviceId:new _.NI(null,[_.kI.required])}),destination:new _.cw({mask:new _.NI(null,[_.kI.required]),inputId:new _.NI(null,[_.kI.required]),deviceId:new _.NI(null,[_.kI.required])})}),this.table=new x.by,this.inputs=[],this.columns=["source.deviceId","source.inputId","source.mask","route","destination.deviceId","destination.inputId","destination.mask","options"],this.loading=!1}add(){var e=this;return(0,M.Z)(function*(){e.loading=!0;const o=yield e.service.add(e.map.value);if(o.ok){let s=new T(e.map.value);s.mapId=o.result.mapId,e.table.data.push(s),e.map.reset(),e.map.markAsPristine(),e.map.markAsUntouched(),e.table.data=e.table.data.map(u=>new T(u))}else e.toast.error(o.result.message);e.loading=!1})()}load(){var e=this;return(0,M.Z)(function*(){e.loading=!0;const o=yield e.devices.list({});o.ok?(e.devices.data=o.result.map(s=>new D.A(s)),e.devices.data.map(s=>{s.io.map(u=>{u.deviceId=s.deviceId,e.inputs.push(u)})})):e.devices.data=[],e.loading=!1})()}list(){var e=this;return(0,M.Z)(function*(){e.loading=!0;const o=yield e.service.list({});e.table.data=o.ok?o.result.map(s=>new T(s)):[],e.loading=!1})()}delete(e){var o=this;return(0,M.Z)(function*(){o.loading=!0;const s=yield o.service.delete({mapId:e.mapId});if(s.ok){for(let u=0;u<o.table.data.length;u++)if(o.table.data[u]){o.table.data.splice(u,1);break}o.table.data=o.table.data.map(u=>new T(u)),o.toast.success("Mapping deleted!")}else o.toast.error(s.result.message);o.loading=!1})()}update(e){var o=this;return(0,M.Z)(function*(){o.loading=!0;const s=yield o.service.update(e);if(s.ok){for(let u=0;u<o.table.data.length;u++)if(o.table.data[u].mapId==e.mapId){Object.keys(e).map(d=>{o.table.data[u][d]=e[d]});break}o.table.data=o.table.data.map(u=>new T(u))}else o.toast.error(s.result.message);o.loading=!1})()}ngOnInit(){var e=this;(0,M.Z)(function*(){yield e.load(),yield e.list()})()}ngOnDestroy(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.k),t.Y36(F.I),t.Y36(y.y))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mapping-page"]],decls:42,vars:7,consts:[[1,"spacer"],["mode","indeterminate",4,"ngIf"],["mat-table","",3,"dataSource"],["matColumnDef","source.deviceId"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",3,"formGroup",4,"matFooterCellDef"],["matColumnDef","source.inputId"],["matColumnDef","source.mask"],["matColumnDef","route"],["matColumnDef","destination.deviceId"],["matColumnDef","destination.inputId"],["matColumnDef","destination.mask"],["matColumnDef","options"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],["mode","indeterminate"],["mat-header-cell",""],["mat-cell",""],["placeholder","device","required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-footer-cell","",3,"formGroup"],["formGroupName","source"],["placeholder","device","formControlName","deviceId","required",""],["placeholder","input","required","",3,"ngModel","ngModelChange"],["placeholder","input","formControlName","inputId","required",""],["matInput","","min","-1","max","65535","type","number","placeholder","mask","required","",3,"ngModel","ngModelChange"],["matInput","","min","-1","max","65535","type","number","placeholder","mask","formControlName","mask","required",""],["svgIcon","double_arrow"],["formGroupName","destination"],["mat-icon-button","","color","warn",3,"click"],["svgIcon","delete"],["type","button","mat-icon-button","","color","primary",3,"click"],["svgIcon","add"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"mat-toolbar"),t._UZ(1,"mat-menu-button"),t.TgZ(2,"mat-label",0),t._uU(3," Mapping "),t.qZA(),t.qZA(),t.YNc(4,P,1,0,"mat-progress-bar",1),t.TgZ(5,"mat-content"),t.TgZ(6,"table",2),t.ynx(7,3),t.YNc(8,$,2,0,"th",4),t.YNc(9,b,3,2,"td",5),t.YNc(10,E,6,2,"td",6),t.BQk(),t.ynx(11,7),t.YNc(12,H,2,0,"th",4),t.YNc(13,L,4,7,"td",5),t.YNc(14,K,7,7,"td",6),t.BQk(),t.ynx(15,8),t.YNc(16,X,2,0,"th",4),t.YNc(17,V,2,1,"td",5),t.YNc(18,W,5,1,"td",6),t.BQk(),t.ynx(19,9),t.YNc(20,z,2,0,"th",4),t.YNc(21,k,2,0,"td",5),t.YNc(22,j,2,1,"td",6),t.BQk(),t.ynx(23,10),t.YNc(24,tt,2,0,"th",4),t.YNc(25,nt,3,2,"td",5),t.YNc(26,ot,6,2,"td",6),t.BQk(),t.ynx(27,11),t.YNc(28,rt,2,0,"th",4),t.YNc(29,ct,4,7,"td",5),t.YNc(30,dt,7,7,"td",6),t.BQk(),t.ynx(31,12),t.YNc(32,st,2,0,"th",4),t.YNc(33,ut,2,1,"td",5),t.YNc(34,pt,5,1,"td",6),t.BQk(),t.ynx(35,13),t.YNc(36,ft,1,0,"th",4),t.YNc(37,mt,3,0,"td",5),t.YNc(38,gt,3,1,"td",6),t.BQk(),t.YNc(39,_t,1,0,"tr",14),t.YNc(40,xt,1,0,"tr",15),t.YNc(41,vt,1,0,"tr",16),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngIf",o.loading),t.xp6(2),t.Q6J("dataSource",o.table),t.xp6(33),t.Q6J("matHeaderRowDef",o.columns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.columns),t.xp6(1),t.Q6J("matFooterRowDef",o.columns)("matFooterRowDefSticky",!0))},directives:[N.Ye,J.v,g.hX,f.O5,I.pW,Y.s,x.BZ,x.w1,x.fO,x.ge,x.Dz,x.ev,A.gD,_.Q7,_.JJ,_.On,f.sg,w.ey,x.mD,x.yh,_.JL,_.sg,g.KE,_.x0,_.u,c.Nt,_.qQ,_.Fd,_.wV,_.Fj,i.Hw,a.lW,x.as,x.XQ,x.nj,x.Gk,x.Ke,x.Q2],pipes:[v],styles:[".mat-column-route[_ngcontent-%COMP%]{width:40px}.mat-column-route[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#0000004d;display:flex;align-self:center;justify-self:center}.mat-column-source-mask[_ngcontent-%COMP%], .mat-column-source-inputId[_ngcontent-%COMP%], .mat-column-source-deviceId[_ngcontent-%COMP%], .mat-column-destination-mask[_ngcontent-%COMP%], .mat-column-destination-inputId[_ngcontent-%COMP%], .mat-column-destination-deviceId[_ngcontent-%COMP%]{padding-right:16px}.mat-column-options[_ngcontent-%COMP%]{width:40px;padding-right:16px!important}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:-16px!important}.mat-footer-cell[_ngcontent-%COMP%]{overflow:hidden}"]}),n})();var Mt=m(4847),ht=m(7238),Tt=m(1083),Ct=m(7375),It=m(2604),At=m(5896),Pt=m(4274),yt=m(5612);const Nt=[{path:"",component:Zt}];let wt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[_.u5,f.ez,Mt.JX,i.Ps,x.p0,c.c,A.LD,a.ot,Ct.M,ht.AV,It.o,N.g0,Pt.X,g.lN,At.n,yt.G,_.UX,I.Cv,Tt.Bz.forChild(Nt)]]}),n})()},8624:function(q,O){var m,M,x;!function(_,h){"use strict";"object"==typeof q.exports?q.exports=h():(M=[],void 0!==(x="function"==typeof(m=h)?m.apply(O,M):m)&&(q.exports=x))}(0,function(){"use strict";var _=Object.prototype.toString;function h(g,f){return null!=g&&Object.prototype.hasOwnProperty.call(g,f)}function T(g){if(!g||C(g)&&0===g.length)return!0;if("string"!=typeof g){for(var f in g)if(h(g,f))return!1;return!0}return!1}function D(g){return _.call(g)}var C=Array.isArray||function(g){return"[object Array]"===_.call(g)};function y(g){var f=parseInt(g);return f.toString()===g?f:g}function N(g){var I,A,f=function(c){return Object.keys(f).reduce(function(i,a){return"create"===a||"function"==typeof f[a]&&(i[a]=f[a].bind(f,c)),i},{})};function Y(c,i){if(I(c,i))return c[i]}function w(c,i,a,l){if("number"==typeof i&&(i=[i]),!i||0===i.length)return c;if("string"==typeof i)return w(c,i.split(".").map(y),a,l);var v=i[0],P=A(c,v);return 1===i.length?((void 0===P||!l)&&(c[v]=a),P):(void 0===P&&(c[v]="number"==typeof i[1]?[]:{}),w(c[v],i.slice(1),a,l))}return I=(g=g||{}).includeInheritedProps?function(){return!0}:function(c,i){return"number"==typeof i&&Array.isArray(c)||h(c,i)},A=g.includeInheritedProps?function(c,i){"string"!=typeof i&&"number"!=typeof i&&(i=String(i));var a=Y(c,i);if("__proto__"===i||"prototype"===i||"constructor"===i&&"function"==typeof a)throw new Error("For security reasons, object's magic properties cannot be set");return a}:function(c,i){return Y(c,i)},f.has=function(c,i){if("number"==typeof i?i=[i]:"string"==typeof i&&(i=i.split(".")),!i||0===i.length)return!!c;for(var a=0;a<i.length;a++){var l=y(i[a]);if(!("number"==typeof l&&C(c)&&l<c.length||(g.includeInheritedProps?l in Object(c):h(c,l))))return!1;c=c[l]}return!0},f.ensureExists=function(c,i,a){return w(c,i,a,!0)},f.set=function(c,i,a,l){return w(c,i,a,l)},f.insert=function(c,i,a,l){var v=f.get(c,i);l=~~l,C(v)||f.set(c,i,v=[]),v.splice(l,0,a)},f.empty=function(c,i){var a,l;if(!T(i)&&null!=c&&(a=f.get(c,i))){if("string"==typeof a)return f.set(c,i,"");if(function F(g){return"boolean"==typeof g||"[object Boolean]"===D(g)}(a))return f.set(c,i,!1);if("number"==typeof a)return f.set(c,i,0);if(C(a))a.length=0;else{if(!function t(g){return"object"==typeof g&&"[object Object]"===D(g)}(a))return f.set(c,i,null);for(l in a)I(a,l)&&delete a[l]}}},f.push=function(c,i){var a=f.get(c,i);C(a)||f.set(c,i,a=[]),a.push.apply(a,Array.prototype.slice.call(arguments,2))},f.coalesce=function(c,i,a){for(var l,v=0,P=i.length;v<P;v++)if(void 0!==(l=f.get(c,i[v])))return l;return a},f.get=function(c,i,a){if("number"==typeof i&&(i=[i]),!i||0===i.length)return c;if(null==c)return a;if("string"==typeof i)return f.get(c,i.split("."),a);var l=y(i[0]),v=A(c,l);return void 0===v?a:1===i.length?v:f.get(c[l],i.slice(1),a)},f.del=function(i,a){if("number"==typeof a&&(a=[a]),null==i||T(a))return i;if("string"==typeof a)return f.del(i,a.split("."));var l=y(a[0]);return A(i,l),I(i,l)?1!==a.length?f.del(i[l],a.slice(1)):(C(i)?i.splice(l,1):delete i[l],i):i},f}var J=N();return J.create=N,J.withInheritedProps=N({includeInheritedProps:!0}),J})}}]);
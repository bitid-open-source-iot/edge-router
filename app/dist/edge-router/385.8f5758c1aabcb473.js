"use strict";(self.webpackChunkedge_router=self.webpackChunkedge_router||[]).push([[385],{2385:($,m,n)=>{n.r(m),n.d(m,{LiveLogsPageModule:()=>S});var s=n(4999);class f{constructor(o){this.date=new Date,this.type="",this.message="",void 0!==o&&null!=o&&(void 0!==o.type&&null!=o.type&&(this.type=o.type),void 0!==o.date&&null!=o.date&&(this.date=new Date(o.date)),void 0!==o.message&&null!=o.message&&(this.message=o.message))}}var u=n(2285),v=n(2340),t=n(5e3),d=n(4594),p=n(5277),c=n(7322),i=n(9808),g=n(5899),h=n(8863);function L(e,o){1&e&&t._UZ(0,"mat-progress-bar",10)}function y(e,o){1&e&&(t.TgZ(0,"th",11),t._uU(1," Message "),t.qZA())}function P(e,o){if(1&e&&(t.TgZ(0,"td",12),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.hij(" ",a.message," ")}}function Z(e,o){1&e&&(t.TgZ(0,"th",11),t._uU(1," Type "),t.qZA())}function b(e,o){if(1&e&&(t.TgZ(0,"td",12),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.Tol(a.type),t.xp6(1),t.hij(" ",a.type," ")}}function T(e,o){1&e&&(t.TgZ(0,"th",11),t._uU(1," Date "),t.qZA())}function C(e,o){if(1&e&&(t.TgZ(0,"td",12),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,a.date,"dd/MM/yyyy HH:mm:ss")," ")}}function x(e,o){1&e&&t._UZ(0,"tr",13)}function D(e,o){1&e&&t._UZ(0,"tr",14)}let M=(()=>{class e{constructor(){this.table=new s.by,this.columns=["message","type","date"],this.loading=!1,this.observers={}}ngOnInit(){const a=new u.s(v.N.socket,"logs");this.observers.data=a.data.subscribe(l=>{this.table.data.length>=1e3&&this.table.data.pop(),this.table.data.unshift(l.result),this.table.data=this.table.data.map(I=>new f(I))}),this.observers.status=a.status.subscribe(l=>{"disconnected"==l&&setTimeout(()=>a.reconnect(),5e3)})}ngOnDestroy(){var a,l;null===(a=this.observers.data)||void 0===a||a.unsubscribe(),null===(l=this.observers.status)||void 0===l||l.unsubscribe()}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["live-logs-page"]],decls:18,vars:5,consts:[[1,"spacer"],["mode","indeterminate",4,"ngIf"],["mat-table","",3,"dataSource"],["matColumnDef","message"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","date"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mode","indeterminate"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(a,l){1&a&&(t.TgZ(0,"mat-toolbar"),t._UZ(1,"mat-menu-button"),t.TgZ(2,"mat-label",0),t._uU(3," Live Logs "),t.qZA(),t.qZA(),t.YNc(4,L,1,0,"mat-progress-bar",1),t.TgZ(5,"mat-content"),t.TgZ(6,"table",2),t.ynx(7,3),t.YNc(8,y,2,0,"th",4),t.YNc(9,P,2,1,"td",5),t.BQk(),t.ynx(10,6),t.YNc(11,Z,2,0,"th",4),t.YNc(12,b,3,3,"td",5),t.BQk(),t.ynx(13,7),t.YNc(14,T,2,0,"th",4),t.YNc(15,C,3,4,"td",5),t.BQk(),t.YNc(16,x,1,0,"tr",8),t.YNc(17,D,1,0,"tr",9),t.qZA(),t.qZA()),2&a&&(t.xp6(4),t.Q6J("ngIf",l.loading),t.xp6(2),t.Q6J("dataSource",l.table),t.xp6(10),t.Q6J("matHeaderRowDef",l.columns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",l.columns))},directives:[d.Ye,p.v,c.hX,i.O5,g.pW,h.s,s.BZ,s.w1,s.fO,s.ge,s.Dz,s.ev,s.as,s.XQ,s.nj,s.Gk],pipes:[i.uU],styles:[".mat-column-type[_ngcontent-%COMP%], .mat-column-date[_ngcontent-%COMP%]{width:150px}.info[_ngcontent-%COMP%], .warn[_ngcontent-%COMP%], .debug[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]{color:#fff;padding:5px 8px;font-size:12px;border-radius:12px;text-transform:capitalize;background-color:#e0e0e0}.info[_ngcontent-%COMP%]{background-color:#2196f3}.warn[_ngcontent-%COMP%]{background-color:#ff9800}.debug[_ngcontent-%COMP%]{background-color:#607d8b}.error[_ngcontent-%COMP%]{background-color:#f44336}"]}),e})();var A=n(4847),O=n(3874),U=n(7531),N=n(4107),Y=n(7423),Q=n(7375),H=n(7238),R=n(2604),B=n(4274),J=n(5896),X=n(5612),j=n(1083),r=n(3075);const z=[{path:"",component:M}];let S=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[r.u5,i.ez,A.JX,O.Ps,s.p0,U.c,N.LD,Y.ot,Q.M,H.AV,R.o,d.g0,B.X,c.lN,J.n,X.G,r.UX,g.Cv,j.Bz.forChild(z)]]}),e})()}}]);
"use strict";(self.webpackChunkedge_router=self.webpackChunkedge_router||[]).push([[435],{802:(H,u,n)=>{n.r(u),n.d(u,{SettingsComponentModule:()=>E});var m=n(5861),s=n(3075),t=n(5e3),d=n(2340),T=n(5146);let A=(()=>{class r{constructor(e){this.api=e,this.data=[]}list(e){var o=this;return(0,m.Z)(function*(){return yield o.api.post(d.N.server,"/edge-router/settings/list",e)})()}update(e){var o=this;return(0,m.Z)(function*(){return yield o.api.post(d.N.server,"/edge-router/settings/update",e)})()}command(e){var o=this;return(0,m.Z)(function*(){return yield o.api.post(d.N.server,"/edge-router/settings/command",e)})()}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(T.s))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var C=n(649),S=n(2109),g=n(4594),I=n(7756),i=n(7322),f=n(9808),p=n(5899),b=n(8863),v=n(4107),N=n(508),Z=n(7531),h=n(7423),U=n(4080);function y(r,a){1&r&&t._UZ(0,"mat-progress-bar",16)}function x(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.hij(" ",e.errors.apn," ")}}function J(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.hij(" ",e.errors.barcode," ")}}function Y(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.hij(" ",e.errors.deviceId," ")}}let M=(()=>{class r{constructor(e,o,l){this.settingsService=e,this.toast=o,this.formerror=l,this.form=new s.cw({barcode:new s.NI("",[s.kI.required]),deviceId:new s.NI("",[s.kI.required]),apn:new s.NI(null)}),this.formCommand=new s.cw({command:new s.NI(null),password:new s.NI(null)}),this.errors={barcode:"",deviceId:"",apn:""},this.loading=!1,this.observers={}}ngOnInit(){this.observers.form=this.form.valueChanges.subscribe(e=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)}),this.list()}list(){var e=this;return(0,m.Z)(function*(){const o=yield e.settingsService.list({});o.ok?(e.form.controls.barcode.setValue(o.result[0].barcode),e.form.controls.deviceId.setValue(o.result[0].deviceId),e.form.controls.apn.setValue(o.result[0].apn)):e.toast.error(o.result.message),e.loading=!1})()}submit(){var e=this;return(0,m.Z)(function*(){e.loading=!0;const o=yield e.settingsService.update({barcode:e.form.value.barcode,deviceId:e.form.value.deviceId,apn:e.form.value.apn});o.ok?e.toast.success("Updated"):e.toast.error(o.result.message),e.loading=!1,e.loading=!1})()}submit_command(){var e=this;return(0,m.Z)(function*(){e.loading=!0;const o=yield e.settingsService.command({command:e.formCommand.value.command,password:e.formCommand.value.password});o.ok?(console.log(o),e.toast.success("Updated")):e.toast.error(o.result.message),e.loading=!1,e.loading=!1})()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(A),t.Y36(C.k),t.Y36(S.J))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-settings"]],decls:50,vars:6,consts:[[1,"spacer"],["mode","indeterminate",4,"ngIf"],[3,"formGroup","ngSubmit"],["appearance","outline"],["placeholder","apn","formControlName","apn","required",""],["value","internet"],["value","tech5"],[4,"ngIf"],["matInput","","type","text","minlength","1","maxlength","24","placeholder","Barcode","formControlName","barcode","required",""],["matInput","","type","text","minlength","24","maxlength","24","placeholder","Device Id","formControlName","deviceId","required",""],["type","submit",2,"display","none"],["button",""],["matInput","","type","text","minlength","1","maxlength","24000","placeholder","Command","formControlName","command"],["matInput","","type","password","minlength","1","maxlength","24","placeholder","Password","formControlName","password"],["button_command",""],["type","button","color","primary","mat-flat-button","",3,"click"],["mode","indeterminate"]],template:function(e,o){if(1&e){const l=t.EpF();t.TgZ(0,"mat-toolbar"),t._UZ(1,"mat-back-button"),t.TgZ(2,"mat-label",0),t._uU(3," Devices Editor "),t.qZA(),t.qZA(),t.YNc(4,y,1,0,"mat-progress-bar",1),t.TgZ(5,"mat-content"),t.TgZ(6,"form",2),t.NdJ("ngSubmit",function(){return!o.loading&&!o.form.invalid&&o.submit()}),t.TgZ(7,"section"),t.TgZ(8,"mat-form-field",3),t.TgZ(9,"mat-label"),t._uU(10," APN "),t.qZA(),t.TgZ(11,"mat-select",4),t.TgZ(12,"mat-option",5),t._uU(13," Internet "),t.qZA(),t.TgZ(14,"mat-option",6),t._uU(15," Tech5 "),t.qZA(),t.qZA(),t.YNc(16,x,2,1,"mat-error",7),t.qZA(),t.qZA(),t.TgZ(17,"section"),t.TgZ(18,"mat-form-field",3),t.TgZ(19,"mat-label"),t._uU(20," Barcode "),t.qZA(),t._UZ(21,"input",8),t.YNc(22,J,2,1,"mat-error",7),t.qZA(),t.qZA(),t.TgZ(23,"section"),t.TgZ(24,"mat-form-field",3),t.TgZ(25,"mat-label"),t._uU(26," Device Id "),t.qZA(),t._UZ(27,"input",9),t.YNc(28,Y,2,1,"mat-error",7),t.qZA(),t.qZA(),t._UZ(29,"button",10,11),t.qZA(),t.TgZ(31,"section"),t.TgZ(32,"form",2),t.NdJ("ngSubmit",function(){return!o.loading&&o.submit_command()}),t.TgZ(33,"section"),t.TgZ(34,"mat-form-field",3),t.TgZ(35,"mat-label"),t._uU(36," Command "),t.qZA(),t._UZ(37,"input",12),t.qZA(),t.qZA(),t.TgZ(38,"section"),t.TgZ(39,"mat-form-field",3),t.TgZ(40,"mat-label"),t._uU(41," Password "),t.qZA(),t._UZ(42,"input",13),t.qZA(),t.qZA(),t._UZ(43,"button",10,14),t.qZA(),t.TgZ(45,"button",15),t.NdJ("click",function(){return t.CHM(l),t.MAs(44).click()}),t._uU(46," command "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(47,"mat-footer"),t.TgZ(48,"button",15),t.NdJ("click",function(){return t.CHM(l),t.MAs(30).click()}),t._uU(49," submit "),t.qZA(),t.qZA()}2&e&&(t.xp6(4),t.Q6J("ngIf",o.loading),t.xp6(2),t.Q6J("formGroup",o.form),t.xp6(10),t.Q6J("ngIf",o.errors.apn),t.xp6(6),t.Q6J("ngIf",o.errors.barcode),t.xp6(6),t.Q6J("ngIf",o.errors.deviceId),t.xp6(4),t.Q6J("formGroup",o.formCommand))},directives:[g.Ye,I.x,i.hX,f.O5,p.pW,b.s,s._Y,s.JL,s.sg,i.KE,v.gD,s.JJ,s.u,s.Q7,N.ey,i.TO,Z.Nt,s.Fj,s.wO,s.nD,h.lW,U.A],styles:[""]}),r})();var F=n(4847),Q=n(1083),D=n(3874),G=n(4999),j=n(7238),q=n(7375),X=n(2604),B=n(2217),O=n(4274),P=n(5896),V=n(5612);const z=[{path:"",component:M}];let E=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[s.u5,f.ez,F.JX,D.Ps,G.p0,Z.c,B.l,v.LD,h.ot,q.M,j.AV,X.o,g.g0,O.X,i.lN,P.n,V.G,s.UX,p.Cv,Q.Bz.forChild(z)]]}),r})()}}]);
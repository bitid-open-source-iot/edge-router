{"version":3,"sources":["./src/app/classes/input-output.ts","./src/app/classes/device.ts","./src/app/classes/id.ts","./src/app/classes/socket.ts"],"names":[],"mappings":"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","file":"common.js","sourcesContent":["import { ObjectId } from './id';\n\nexport class InputOutput {\n\n    public bit: number = 0;\n    public key: string = '';\n    public tagId: string = '';\n    public value: number = 0;\n    public inputId: string = ObjectId();\n    public register: number = 0;\n    public moduleId: number = 0;\n    public readable: boolean = false;\n    public interface: string = '';\n    public writeable: boolean = false;\n    public description: string = '';\n\n    constructor(args?: INPUT_OUTPUT) {\n        if (typeof (args) != 'undefined' && args != null) {\n            if (typeof (args.bit) != 'undefined' && args.bit != null) {\n                this.bit = args.bit;\n            };\n            if (typeof (args.key) != 'undefined' && args.key != null) {\n                this.key = args.key;\n            };\n            if (typeof (args.tagId) != 'undefined' && args.tagId != null) {\n                this.tagId = args.tagId;\n            };\n            if (typeof (args.value) != 'undefined' && args.value != null) {\n                this.value = args.value;\n            };\n            if (typeof (args.inputId) != 'undefined' && args.inputId != null) {\n                this.inputId = args.inputId;\n            };\n            if (typeof (args.register) != 'undefined' && args.register != null) {\n                this.register = args.register;\n            };\n            if (typeof (args.moduleId) != 'undefined' && args.moduleId != null) {\n                this.moduleId = args.moduleId;\n            };\n            if (typeof (args.readable) != 'undefined' && args.readable != null) {\n                this.readable = args.readable;\n            };\n            if (typeof (args.interface) != 'undefined' && args.interface != null) {\n                this.interface = args.interface;\n            };\n            if (typeof (args.writeable) != 'undefined' && args.writeable != null) {\n                this.writeable = args.writeable;\n            };\n            if (typeof (args.description) != 'undefined' && args.description != null) {\n                this.description = args.description;\n            };\n        }\n    }\n\n}\n\ninterface INPUT_OUTPUT {\n    bit: number;\n    key: string;\n    tagId: string;\n    value: number;\n    inputId: string;\n    register: number;\n    moduleId: number;\n    readable: boolean;\n    interface: string;\n    writeable: boolean;\n    description: string;\n}\n","import { ObjectId } from './id';\nimport { InputOutput } from './input-output';\n\nexport class Device {\n\n    public io: InputOutput[] = [];\n    public ip: string = '';\n    public port: number = 0;\n    public type: string = '';\n    public txtime: number = 5;\n    public pxtime: number = 5;\n    public barcode: string = '';\n    public publish: boolean = false;\n    public timeout: number = 60;\n    public enabled: boolean = false;\n    public deviceId: string = ObjectId();\n    public isConnected: boolean = false;\n    public description: string = '';\n    public lastConnection?: Date;\n\n    constructor(args?: DEVICE) {\n        if (typeof (args) != 'undefined' && args != null) {\n            if (typeof (args.io) != 'undefined' && args.io != null) {\n                this.io = args.io.map(o => new InputOutput(o));\n            }\n            if (typeof (args.ip) != 'undefined' && args.ip != null) {\n                this.ip = args.ip;\n            }\n            if (typeof (args.port) != 'undefined' && args.port != null) {\n                this.port = args.port;\n            }\n            if (typeof (args.type) != 'undefined' && args.type != null) {\n                this.type = args.type;\n            }\n            if (typeof (args.txtime) != 'undefined' && args.txtime != null) {\n                this.txtime = args.txtime;\n            }\n            if (typeof (args.pxtime) != 'undefined' && args.pxtime != null) {\n                this.pxtime = args.pxtime;\n            }\n            if (typeof (args.barcode) != 'undefined' && args.barcode != null) {\n                this.barcode = args.barcode;\n            }\n            if (typeof (args.publish) != 'undefined' && args.publish != null) {\n                this.publish = args.publish;\n            }\n            if (typeof (args.timeout) != 'undefined' && args.timeout != null) {\n                this.timeout = args.timeout;\n            }\n            if (typeof (args.enabled) != 'undefined' && args.enabled != null) {\n                this.enabled = args.enabled;\n            }\n            if (typeof (args.deviceId) != 'undefined' && args.deviceId != null) {\n                this.deviceId = args.deviceId;\n            }\n            if (typeof (args.isConnected) != 'undefined' && args.isConnected != null) {\n                this.isConnected = args.isConnected;\n            }\n            if (typeof (args.description) != 'undefined' && args.description != null) {\n                this.description = args.description;\n            }\n            if (typeof (args.lastConnection) != 'undefined' && args.lastConnection != null) {\n                this.lastConnection = new Date(args.lastConnection);\n            }\n        }\n    }\n\n}\n\ninterface DEVICE {\n    io: InputOutput[];\n    ip: string;\n    port: number;\n    type: string;\n    txtime: number;\n    pxtime: number;\n    barcode: string;\n    publish: boolean;\n    timeout: number;\n    enabled: boolean;\n    deviceId: string;\n    isConnected: boolean;\n    description: string;\n    lastConnection?: Date;\n}\n","export function ObjectId() {\n\treturn (new Date().getTime() / 1000 | 0).toString(16) + 'xxxxxxxxxxxxxxxx'.replace(/[x]/g, () => (Math.random() * 16 | 0).toString(16)).toLowerCase();\n}\n","import { Subject, BehaviorSubject } from 'rxjs';\n\nexport class Socket {\n\n    public data: Subject<SOCKET_MESSAGE> = new Subject<SOCKET_MESSAGE>();\n    public status: BehaviorSubject<'error' | 'connected' | 'connecting' | 'disconnected' | null> = new BehaviorSubject<'error' | 'connected' | 'connecting' | 'disconnected' | null>(null);\n\n    private url?: string;\n    private route?: string;\n    private socket?: WebSocket;\n\n    constructor(url: string, route?: string) {\n        this.url = url;\n        this.route = route;\n        this.status.next('connecting');\n        this.socket = new WebSocket([this.url, '?route=', this.route].join(''));\n        this.socket.onopen = (event) => this.status.next('connected');\n        this.socket.onclose = (event) => this.status.next('disconnected');\n        this.socket.onerror = (event) => this.status.next('error');\n        this.socket.onmessage = (event) => this.data.next(JSON.parse(event.data));\n    }\n\n    public reconnect() {\n        delete this.socket;\n        this.status.next('connecting');\n        this.socket = new WebSocket([this.url, '?route=', this.route].join(''));\n        this.socket.onopen = (event) => this.status.next('connected');\n        this.socket.onclose = (event) => this.status.next('disconnected');\n        this.socket.onerror = (event) => this.status.next('error');\n        this.socket.onmessage = (event) => this.data.next(JSON.parse(event.data));\n    }\n\n}\n\ninterface SOCKET_MESSAGE {\n    result?: any;\n    process?: string;\n}"],"sourceRoot":"webpack:///"}
"use strict";(self.webpackChunkedge_router=self.webpackChunkedge_router||[]).push([[435],{802:(R,c,s)=>{s.r(c),s.d(c,{SettingsComponentModule:()=>H});var m=s(5861),n=s(3075),t=s(5e3),l=s(2340),h=s(5146);let T=(()=>{class r{constructor(e){this.api=e,this.data=[]}list(e){var o=this;return(0,m.Z)(function*(){return yield o.api.post(l.N.server,"/edge-router/settings/list",e)})()}update(e){var o=this;return(0,m.Z)(function*(){return yield o.api.post(l.N.server,"/edge-router/settings/update",e)})()}command(e){var o=this;return(0,m.Z)(function*(){return yield o.api.post(l.N.server,"/edge-router/settings/command",e)})()}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(h.s))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var x=s(649),I=s(2109),d=s(4594),A=s(7756),i=s(7322),p=s(9808),f=s(5899),N=s(8863),g=s(4107),C=s(508),v=s(7531),S=s(4080),Z=s(7423);function U(r,a){1&r&&t._UZ(0,"mat-progress-bar",19)}function q(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.hij(" ",e.errors.apn," ")}}function y(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.hij(" ",e.errors.barcode," ")}}function b(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.hij(" ",e.errors.deviceId," ")}}function J(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.hij(" ",e.errors.txtime," ")}}function Y(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.hij(" ",e.errors.server.host," ")}}function w(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.hij(" ",e.errors.server.port," ")}}function Q(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.hij(" ",e.errors.server.username," ")}}function j(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.hij(" ",e.errors.server.password," ")}}let V=(()=>{class r{constructor(e,o,u){this.settingsService=e,this.toast=o,this.formerror=u,this.form=new n.cw({barcode:new n.NI("",[n.kI.required]),deviceId:new n.NI("",[n.kI.required]),apn:new n.NI(null),txtime:new n.NI(null),server:new n.cw({host:new n.NI("",[n.kI.required]),port:new n.NI("",[n.kI.required]),username:new n.NI("",[n.kI.required]),password:new n.NI("",[n.kI.required])})}),this.formCommand=new n.cw({command:new n.NI(null),password:new n.NI(null)}),this.errors={barcode:"",deviceId:"",apn:"",txtime:"",server:{host:"",port:"",userName:"",password:""}},this.loading=!1,this.observers={}}ngOnInit(){this.observers.form=this.form.valueChanges.subscribe(e=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)}),this.list()}list(){var e=this;return(0,m.Z)(function*(){const o=yield e.settingsService.list({});o.ok?(e.form.controls.barcode.setValue(o.result[0].barcode),e.form.controls.deviceId.setValue(o.result[0].deviceId),e.form.controls.apn.setValue(o.result[0].apn),e.form.controls.txtime.setValue(o.result[0].txtime),e.form.controls.server.controls.host.setValue(o.result[0].host),e.form.controls.server.controls.port.setValue(o.result[0].port),e.form.controls.server.controls.username.setValue(o.result[0].username),e.form.controls.server.controls.password.setValue(o.result[0].password)):e.toast.error(o.result.message),e.loading=!1})()}submit(){var e=this;return(0,m.Z)(function*(){e.loading=!0;const o=yield e.settingsService.update({barcode:e.form.value.barcode,deviceId:e.form.value.deviceId,apn:e.form.value.apn,txtime:e.form.value.txtime,host:e.form.controls.server.value.host,port:e.form.controls.server.value.port,username:e.form.controls.server.value.username,password:e.form.controls.server.value.password});o.ok?e.toast.success("Updated"):e.toast.error(o.result.message),e.loading=!1,e.loading=!1})()}submit_command(){var e=this;return(0,m.Z)(function*(){console.log("story",e.form.controls.server.value.host)})()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(T),t.Y36(x.k),t.Y36(I.J))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-settings"]],decls:65,vars:10,consts:[[1,"spacer"],["mode","indeterminate",4,"ngIf"],[3,"formGroup","ngSubmit"],["appearance","outline"],["placeholder","apn","formControlName","apn","required",""],["value","internet"],["value","tech5"],[4,"ngIf"],["matInput","","type","text","minlength","1","maxlength","24","placeholder","Barcode","formControlName","barcode","required",""],["matInput","","type","text","minlength","24","maxlength","24","placeholder","Device Id","formControlName","deviceId","required",""],["matInput","","type","number","placeholder","Tx Time","formControlName","txtime","required",""],["formGroupName","server"],["matInput","","type","text","placeholder","host","formControlName","host","required",""],["matInput","","type","number","placeholder","port","formControlName","port","required",""],["matInput","","type","text","placeholder","username","formControlName","username","required",""],["matInput","","type","text","placeholder","password","formControlName","password","required",""],["type","submit",2,"display","none"],["button",""],["type","button","color","primary","mat-flat-button","",3,"click"],["mode","indeterminate"]],template:function(e,o){if(1&e){const u=t.EpF();t.TgZ(0,"mat-toolbar"),t._UZ(1,"mat-back-button"),t.TgZ(2,"mat-label",0),t._uU(3," Devices Editor "),t.qZA(),t.qZA(),t.YNc(4,U,1,0,"mat-progress-bar",1),t.TgZ(5,"mat-content"),t.TgZ(6,"form",2),t.NdJ("ngSubmit",function(){return!o.loading&&!o.form.invalid&&o.submit()}),t.TgZ(7,"section"),t.TgZ(8,"mat-form-field",3),t.TgZ(9,"mat-label"),t._uU(10," APN "),t.qZA(),t.TgZ(11,"mat-select",4),t.TgZ(12,"mat-option",5),t._uU(13," Internet "),t.qZA(),t.TgZ(14,"mat-option",6),t._uU(15," Tech5 "),t.qZA(),t.qZA(),t.YNc(16,q,2,1,"mat-error",7),t.qZA(),t.qZA(),t.TgZ(17,"section"),t.TgZ(18,"mat-form-field",3),t.TgZ(19,"mat-label"),t._uU(20," Barcode "),t.qZA(),t._UZ(21,"input",8),t.YNc(22,y,2,1,"mat-error",7),t.qZA(),t.qZA(),t.TgZ(23,"section"),t.TgZ(24,"mat-form-field",3),t.TgZ(25,"mat-label"),t._uU(26," Device Id "),t.qZA(),t._UZ(27,"input",9),t.YNc(28,b,2,1,"mat-error",7),t.qZA(),t.qZA(),t.TgZ(29,"section"),t.TgZ(30,"mat-form-field",3),t.TgZ(31,"mat-label"),t._uU(32," Tx Time "),t.qZA(),t._UZ(33,"input",10),t.YNc(34,J,2,1,"mat-error",7),t.qZA(),t.qZA(),t.TgZ(35,"div",11),t.TgZ(36,"section"),t.TgZ(37,"mat-form-field",3),t.TgZ(38,"mat-label"),t._uU(39," host "),t.qZA(),t._UZ(40,"input",12),t.YNc(41,Y,2,1,"mat-error",7),t.qZA(),t.qZA(),t.TgZ(42,"section"),t.TgZ(43,"mat-form-field",3),t.TgZ(44,"mat-label"),t._uU(45," port "),t.qZA(),t._UZ(46,"input",13),t.YNc(47,w,2,1,"mat-error",7),t.qZA(),t.qZA(),t.TgZ(48,"section"),t.TgZ(49,"mat-form-field",3),t.TgZ(50,"mat-label"),t._uU(51," username "),t.qZA(),t._UZ(52,"input",14),t.YNc(53,Q,2,1,"mat-error",7),t.qZA(),t.qZA(),t.TgZ(54,"section"),t.TgZ(55,"mat-form-field",3),t.TgZ(56,"mat-label"),t._uU(57," password "),t.qZA(),t._UZ(58,"input",15),t.YNc(59,j,2,1,"mat-error",7),t.qZA(),t.qZA(),t.qZA(),t._UZ(60,"button",16,17),t.qZA(),t.qZA(),t.TgZ(62,"mat-footer"),t.TgZ(63,"button",18),t.NdJ("click",function(){return t.CHM(u),t.MAs(61).click()}),t._uU(64," submit "),t.qZA(),t.qZA()}2&e&&(t.xp6(4),t.Q6J("ngIf",o.loading),t.xp6(2),t.Q6J("formGroup",o.form),t.xp6(10),t.Q6J("ngIf",o.errors.apn),t.xp6(6),t.Q6J("ngIf",o.errors.barcode),t.xp6(6),t.Q6J("ngIf",o.errors.deviceId),t.xp6(6),t.Q6J("ngIf",o.errors.txtime),t.xp6(7),t.Q6J("ngIf",o.errors.server.host),t.xp6(6),t.Q6J("ngIf",o.errors.server.port),t.xp6(6),t.Q6J("ngIf",o.errors.server.username),t.xp6(6),t.Q6J("ngIf",o.errors.server.password))},directives:[d.Ye,A.x,i.hX,p.O5,f.pW,N.s,n._Y,n.JL,n.sg,i.KE,g.gD,n.JJ,n.u,n.Q7,C.ey,i.TO,v.Nt,n.Fj,n.wO,n.nD,n.wV,n.x0,S.A,Z.lW],styles:[""]}),r})();var F=s(4847),M=s(1083),D=s(3874),G=s(4999),X=s(7238),B=s(7375),O=s(2604),z=s(2217),E=s(4274),L=s(5896),P=s(5612);const W=[{path:"",component:V}];let H=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[n.u5,p.ez,F.JX,D.Ps,G.p0,v.c,z.l,g.LD,Z.ot,B.M,X.AV,O.o,d.g0,E.X,i.lN,L.n,P.G,n.UX,f.Cv,M.Bz.forChild(W)]]}),r})()}}]);